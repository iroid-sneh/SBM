<div
    class="bg-white rounded-tl-[40px] rounded-br-[90px] p-6 shadow-md flex justify-between items-center"
>
    <h1 class="text-2xl font-medium text-gray-500">Push Notification</h1>
    <div class="flex items-center gap-4">
        <div class="gap-4 py-2 px-4 items-center mb-3">
            <!-- Request Type Buttons -->
            <div class="flex justify-end items-center space-x-3">
                <div class="relative">
                    <div
                        class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                    >
                        <svg
                            class="h-5 w-5 text-gray-400"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke="currentColor"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                            />
                        </svg>
                    </div>
                    <input
                        type="text"
                        placeholder="Search"
                        class="block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg bg-white shadow-sm focus:outline-none focus:ring-1 focus:ring-[#54B7C5] focus:border-[#54B7C5] sm:text-sm"
                    />
                </div>
                <button
                    class="bg-white text-sm font-semibold text-[#163F75] border border-[2px] border-gray-300 px-8 py-2.5 rounded-xl hover:bg-[#163F75]/10 transition"
                    data-modal-target="send-push-notification-modal"
                    data-modal-toggle="send-push-notification-modal"
                >
                    + Send Notification
                </button>
            </div>
        </div>

        <!-- File icon at the start -->
        <button
            class="flex items-center m-2 mr-5"
            data-modal-target="reports-modal"
            data-modal-toggle="reports-modal"
        >
            <svg
                class="w-6 h-6 text-gray-800 transform scale-x-[-1]"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                viewBox="0 0 24 24"
            >
                <path
                    stroke="#163f75"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M10 3v4a1 1 0 0 1-1 1H5m4 8h6m-6-4h6m4-8v16a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V7.914a1 1 0 0 1 .293-.707l3.914-3.914A1 1 0 0 1 9.914 3H18a1 1 0 0 1 1 1Z"
                />
            </svg>
        </button>
    </div>
</div>

<div></div>
<!-- Card -->
<div class="p-8 mx-auto">
    <!-- Filter -->
    <div class="flex justify-between gap-4 items-start pr-4 mt-4 items-center align-center">
        <!-- Category Slide Switcher - takes first column -->
        <div id="transactionStatusSwitcher" class="flex space-x-6 border-gray-200">
            <button
                class="status-btn text-m font-semibold text-[#163F75] border-b-2 border-[#54B7C5] pb-2"
                onclick="switchTransactionTab('all')"
            >
                All Notifications
            </button>
            <button
                class="status-btn text-m font-semibold text-gray-500 hover:text-gray-700 pb-2"
                onclick="switchTransactionTab('paid')"
            >
                Alert
            </button>
            <button
                class="status-btn text-m font-semibold text-gray-500 hover:text-gray-700 pb-2"
                onclick="switchTransactionTab('unpaid')"
            >
                Invoice
            </button>
        </div>
        <div class="flex justify-end gap-4 items-end pr-4 items-center">
            <button
                class="flex items-center gap-1 text-sm text-[#54B7C5] hover:underline font-medium mt-6"
            >
                <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M12.4068 4.23333C11.6818 4.01667 10.8818 3.875 9.99844 3.875C6.00677 3.875 2.77344 7.10833 2.77344 11.1C2.77344 15.1 6.00677 18.3333 9.99844 18.3333C13.9901 18.3333 17.2234 15.1 17.2234 11.1083C17.2234 9.625 16.7734 8.24167 16.0068 7.09167"
                        stroke="#54B7C5"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M13.4396 4.43464L11.0312 1.66797"
                        stroke="#54B7C5"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M13.4411 4.43359L10.6328 6.48359"
                        stroke="#54B7C5"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                </svg>
                Reset
            </button>

            <div class="relative">
                <label class="block text-sm font-medium text-gray-700 mb-1">From</label>
                <div class="relative">
                    <div
                        class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"
                    >
                        <svg
                            class="w-4 h-4 text-gray-500"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="currentColor"
                            viewBox="0 0 20 20"
                        >
                            <path
                                d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"
                            />
                        </svg>
                    </div>
                    <input
                        datepicker
                        datepicker-orientation="bottom"
                        datepicker-format="dd-mm-yyyy"
                        type="text"
                        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5"
                        placeholder="Select date"
                    />
                </div>
            </div>

            <div class="flex items-end">
                <div class="relative">
                    <label class="block text-sm font-medium text-gray-700 mb-1">To</label>
                    <div class="relative">
                        <div
                            class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"
                        >
                            <svg
                                class="w-4 h-4 text-gray-500"
                                aria-hidden="true"
                                xmlns="http://www.w3.org/2000/svg"
                                fill="currentColor"
                                viewBox="0 0 20 20"
                            >
                                <path
                                    d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"
                                />
                            </svg>
                        </div>
                        <input
                            datepicker
                            datepicker-orientation="bottom"
                            datepicker-format="dd-mm-yyyy"
                            type="text"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5"
                            placeholder="Select date"
                        />
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Table -->
    <div class="mt-6 overflow-x-auto">
        <table class="min-w-full border-separate border-spacing-y-2 text-sm">
            <thead class="bg-[#EAEAE9] text-gray-600 text-sm">
                <tr>
                    <th class="text-center py-3 px-4 first:rounded-l-lg last:rounded-r-lg">
                        Date/Time
                    </th>
                    <th class="text-center py-3 px-4">Category</th>
                    <th class="text-center py-3 px-4">Send to</th>
                    <th class="text-center py-3 px-4">Description</th>
                    <th class="text-center py-3 px-4">View</th>
                    <th class="text-center py-3 px-4 last:rounded-r-lg">Delete</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-100 text-sm">
                <!-- Example Row 1 -->
                <tr class="border border-gray-800 hover:bg-[#D7EAEC]">
                    <td class="py-3 text-center px-4 first:rounded-l-lg last:rounded-r-lg">
                        01:05:10 01.01.24
                    </td>
                    <td class="py-3 text-center px-4">Alert</td>
                    <td class="py-3 text-center px-4">All Users</td>
                    <td class="py-3 text-center px-4">
                        Valued Residents, Please note that we will be experiencing electricity
                        downtime on the 30th of May 2021 from 10:00 AM to 1:00 PM due to our...
                    </td>
                    <td class="py-3 text-center px-4">
                        <button>
                            <svg
                                width="18"
                                height="15"
                                viewBox="0 0 18 15"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    fill-rule="evenodd"
                                    clip-rule="evenodd"
                                    d="M11.6521 7.27083C11.6521 8.76956 10.4367 9.98417 8.93794 9.98417C7.43921 9.98417 6.22461 8.76956 6.22461 7.27083C6.22461 5.77125 7.43921 4.55664 8.93794 4.55664C10.4367 4.55664 11.6521 5.77125 11.6521 7.27083Z"
                                    stroke="#54B7C5"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                />
                                <path
                                    fill-rule="evenodd"
                                    clip-rule="evenodd"
                                    d="M8.93828 13.5358C12.207 13.5358 15.1967 11.1855 16.88 7.26788C15.1967 3.35024 12.207 1 8.93828 1H8.94172C5.67301 1 2.68328 3.35024 1 7.26788C2.68328 11.1855 5.67301 13.5358 8.94172 13.5358H8.93828Z"
                                    stroke="#54B7C5"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                />
                            </svg>
                        </button>
                    </td>
                    <td class="py-3 text-center px-4 last:rounded-r-lg">
                        <button>
                            <svg
                                width="17"
                                height="18"
                                viewBox="0 0 17 18"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg"
                            >
                                <path
                                    d="M6.3 14.4C6.5387 14.4 6.76761 14.3052 6.9364 14.1364C7.10518 13.9676 7.2 13.7387 7.2 13.5V8.1C7.2 7.8613 7.10518 7.63239 6.9364 7.4636C6.76761 7.29482 6.5387 7.2 6.3 7.2C6.06131 7.2 5.83239 7.29482 5.6636 7.4636C5.49482 7.63239 5.4 7.8613 5.4 8.1V13.5C5.4 13.7387 5.49482 13.9676 5.6636 14.1364C5.83239 14.3052 6.06131 14.4 6.3 14.4ZM15.3 3.6H11.7V2.7C11.7 1.98392 11.4155 1.29716 10.9092 0.790812C10.4028 0.284464 9.71608 0 9 0H7.2C6.48392 0 5.79716 0.284464 5.29081 0.790812C4.78446 1.29716 4.5 1.98392 4.5 2.7V3.6H0.9C0.661305 3.6 0.432387 3.69482 0.263604 3.8636C0.0948211 4.03239 0 4.2613 0 4.5C0 4.73869 0.0948211 4.96761 0.263604 5.1364C0.432387 5.30518 0.661305 5.4 0.9 5.4H1.8V15.3C1.8 16.0161 2.08446 16.7028 2.59081 17.2092C3.09716 17.7155 3.78392 18 4.5 18H11.7C12.4161 18 13.1028 17.7155 13.6092 17.2092C14.1155 16.7028 14.4 16.0161 14.4 15.3V5.4H15.3C15.5387 5.4 15.7676 5.30518 15.9364 5.1364C16.1052 4.96761 16.2 4.73869 16.2 4.5C16.2 4.2613 16.1052 4.03239 15.9364 3.8636C15.7676 3.69482 15.5387 3.6 15.3 3.6ZM6.3 2.7C6.3 2.46131 6.39482 2.23239 6.5636 2.0636C6.73239 1.89482 6.96131 1.8 7.2 1.8H9C9.2387 1.8 9.46761 1.89482 9.6364 2.0636C9.80518 2.23239 9.9 2.46131 9.9 2.7V3.6H6.3V2.7ZM12.6 15.3C12.6 15.5387 12.5052 15.7676 12.3364 15.9364C12.1676 16.1052 11.9387 16.2 11.7 16.2H4.5C4.26131 16.2 4.03239 16.1052 3.8636 15.9364C3.69482 15.7676 3.6 15.5387 3.6 15.3V5.4H12.6V15.3ZM9.9 14.4C10.1387 14.4 10.3676 14.3052 10.5364 14.1364C10.7052 13.9676 10.8 13.7387 10.8 13.5V8.1C10.8 7.8613 10.7052 7.63239 10.5364 7.4636C10.3676 7.29482 10.1387 7.2 9.9 7.2C9.66131 7.2 9.43239 7.29482 9.2636 7.4636C9.09482 7.63239 9 7.8613 9 8.1V13.5C9 13.7387 9.09482 13.9676 9.2636 14.1364C9.43239 14.3052 9.66131 14.4 9.9 14.4Z"
                                    fill="#F26E6E"
                                />
                            </svg>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>

        <!-- Pagination -->
        <div class="flex justify-between items-center mt-4 px-4 text-sm text-gray-500">
            <span>Showing 1 of 28</span>
            <div class="flex gap-2">
                <button class="text-gray-500">&lt;</button>
                <button class="font-bold text-black">1</button>
                <button>2</button>
                <button>3</button>
                <button>4</button>
                <button>5</button>
                <button class="text-gray-500">&gt;</button>
            </div>
        </div>
    </div>
</div>

<!-- Send Notification Modal -->
<div
    id="send-push-notification-modal"
    tabindex="-1"
    class="fixed top-0 left-0 right-0 z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full hidden"
    aria-hidden="true"
>
    <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <div class="bg-[#F7F6F5] rounded-2xl shadow-xl w-full max-w-md overflow-hidden">
            <!-- Modal Header -->
            <div class="flex justify-between items-center p-6 border-b border-gray-200">
                <h3 class="text-xl font-semibold text-gray-800">Send Notification</h3>
                <button
                    class="text-red-500 hover:text-red-700 text-xl"
                    data-modal-hide="send-push-notification-modal"
                >
                    Close &times;
                </button>
            </div>

            <!-- Modal Content -->
            <div class="p-6">
                <div class="space-y-5">
                    <!-- Preference Dropdown -->
                    <select
                        id="preference-select"
                        class="w-full px-4 py-3 bg-white rounded-xl text-gray-700 text-sm focus:outline-none placeholder-gray-500 shadow-[0px_4px_10px_rgba(0,0,0,0.05)]"
                    >
                        <option disabled selected>Select Category</option>
                        <option>Alert</option>
                        <option>Invoice</option>
                        <option>Emergency</option>
                        <option>Other</option>
                    </select>

                    <!-- Extra Select shown only when "Other" is selected -->
                    <textarea
                        id="other-category-select"
                        rows="4"
                        placeholder="Write Other Category"
                        class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#54B7C5]/50 text-sm hidden"
                    ></textarea>

                    <!-- Notification Send To -->
                    <select
                        class="w-full px-4 py-3 bg-white rounded-xl text-gray-700 text-sm focus:outline-none placeholder-gray-500 shadow-[0px_4px_10px_rgba(0,0,0,0.05)]"
                    >
                        <option value="" disabled selected>Notification Send to</option>
                        <option value="">All Users</option>
                        <option value="">Specific Users</option>
                        <option value="">Specific Building/Complex</option>
                    </select>

                    <!-- Select Service Provider -->
                    <select
                        class="hidden w-full px-4 py-3 bg-white rounded-xl text-gray-700 text-sm focus:outline-none placeholder-gray-500 shadow-[0px_4px_10px_rgba(0,0,0,0.05)]"
                    >
                        <option value="" disabled selected>
                            Select Building/Complex , User Name
                        </option>
                        <option value=""></option>
                        <option value=""></option>
                    </select>

                    <!-- Description Of Message To Send -->
                    <textarea
                        rows="4"
                        placeholder="Write Description"
                        class="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#54B7C5]/50 text-sm"
                    ></textarea>
                </div>
            </div>

            <!-- Modal Footer -->
            <div class="flex justify-center p-6 border-t border-gray-200">
                <button
                    data-modal-target="send-notification-confirmation-modal"
                    data-modal-toggle="send-notification-confirmation-modal"
                    class="bg-[#57C1D1] hover:bg-[#4BB3C2] text-white py-3 px-9 rounded-lg font-medium text-base shadow-[0px_4px_10px_rgba(0,0,0,0.05)] transition"
                >
                    Send
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Send Notification Confirmation Modal -->
<div
    id="send-notification-confirmation-modal"
    tabindex="-1"
    class="fixed inset-0 z-50 hidden w-full h-full bg-black bg-opacity-20 backdrop-blur-sm flex items-center justify-center"
    aria-hidden="true"
>
    <div class="bg-[#F7F6F5] rounded-3xl shadow-lg w-full max-w-md mx-4 p-6">
        <!-- Header -->
        <div class="flex justify-between items-center border-b pb-2">
            <h3 class="text-lg font-semibold text-center w-full">Confirmation</h3>
            <button
                data-modal-hide="send-notification-confirmation-modal"
                class="text-red-500 text-sm absolute right-6 top-5 hover:text-red-600"
            >
                Close &times;
            </button>
        </div>

        <!-- Body -->
        <div class="text-center mt-6">
            <p class="text-gray-600">Are you sure you want to send this notification?</p>
        </div>

        <!-- Buttons -->
        <div class="flex justify-center space-x-4 mt-8">
            <button
                data-modal-hide="send-notification-confirmation-modal"
                class="bg-[#54B7C5] hover:bg-[#48aab8] text-white font-semibold rounded-lg px-6 py-2 w-[120px]"
            >
                Cancel
            </button>
            <button
                data-modal-hide="send-notification-confirmation-modal"
                data-modal-hide="create-push-notification-modal"
                class="bg-[#163f75] hover:bg-[#1e4b8f] text-white font-semibold rounded-lg px-6 py-2 w-[120px]"
            >
                Yes
            </button>
        </div>
    </div>
</div>

<!-- generate invoice modal -->
<div
    id="generate-invoice-modal"
    tabindex="-1"
    class="fixed top-0 left-0 right-0 z-50 hidden w-full p-4 overflow-x-hidden overflow-y-auto h-modal md:h-full"
    aria-hidden="true"
>
    <!-- Modal Container -->
    <div class="bg-[#F7F6F5] rounded-2xl shadow-xl w-full max-w-md">
        <!-- Modal Header -->
        <div class="flex justify-between items-center p-6 border-b border-gray-200">
            <h3 class="text-xl font-semibold text-gray-800">Generate Invoice</h3>
            <button
                data-modal-hide="generate-invoice-modal"
                class="text-red-500 hover:text-red-700 text-2xl"
            >
                Close &times;
            </button>
        </div>

        <!-- Modal Content -->
        <div class="p-6">
            <!-- Form Fields -->
            <div class="space-y-5">
                <!-- Preference Dropdown -->
                <select
                    id="preference-select"
                    class="w-full px-4 py-3 bg-white rounded-xl text-gray-700 text-sm focus:outline-none placeholder-gray-500 shadow-[0px_4px_10px_rgba(0,0,0,0.05)]"
                >
                    <option value="" disabled selected>Select Flat/Villa No. or Name</option>
                    <option value="">Flat 1</option>
                    <option value="">Flat 2</option>
                    <option value="">Flat 3</option>
                </select>

                <!-- Subject Dropdown -->
                <select
                    class="w-full px-4 py-3 bg-white rounded-xl text-gray-700 text-sm focus:outline-none placeholder-gray-500 shadow-[0px_4px_10px_rgba(0,0,0,0.05)]"
                >
                    <option value="" disabled selected>Subject</option>
                    <option>Rent Collection</option>
                    <option>Annual Service Collection</option>
                    <option>Other</option>
                </select>

                <!-- Amount Input -->
                <input
                    type="text"
                    placeholder="Amount (Ex - 100.000)"
                    class="w-full px-4 py-3 bg-white rounded-xl text-gray-700 text-sm focus:outline-none placeholder-gray-500 shadow-[0px_4px_10px_rgba(0,0,0,0.05)]"
                />

                <!-- Upload Invoice -->
                <div class="flex items-center justify-center w-full">
                    <label
                        class="flex items-center justify-center w-full h-16 bg-white border border-dashed border-gray-300 rounded-xl cursor-pointer shadow-[0px_4px_10px_rgba(0,0,0,0.05)]"
                    >
                        <div class="flex items-center gap-2 text-sm text-gray-500">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="w-5 h-5 text-gray-500"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="2"
                                    d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4-4m0 0l-4 4m4-4v12"
                                />
                            </svg>
                            <span>Upload Invoice</span>
                        </div>
                        <input type="file" class="hidden" />
                    </label>
                </div>
            </div>
        </div>

        <!-- Modal Footer -->
        <div class="flex justify-center p-6 border-t border-gray-200">
            <button
                class="bg-[#57C1D1] hover:bg-[#4BB3C2] text-white py-3 px-9 rounded-lg font-medium text-base shadow-[0px_4px_10px_rgba(0,0,0,0.05)] transition"
            >
                Send
            </button>
        </div>
    </div>
</div>

<script>
    function switchTransactionTab(tab) {
        // Remove active styles from all buttons
        document.querySelectorAll(".status-btn").forEach((btn) => {
            btn.classList.remove("text-[##163F75]", "border-b-2", "border-[#54B7C5]");
            btn.classList.add("text-gray-500");
        });

        // Add active styles to clicked button
        const activeBtn = event.currentTarget;
        activeBtn.classList.add("text-[#163F75]", "border-b-2", "border-[#54B7C5]");
        activeBtn.classList.remove("text-gray-500");
    }

    document.addEventListener("DOMContentLoaded", function () {
        const preferenceSelect = document.getElementById("preference-select");
        const buildingSelect = document.getElementById("other-category-select");

        preferenceSelect.addEventListener("change", function () {
            const selectedOption = preferenceSelect.value;
            if (selectedOption === "Other") {
                buildingSelect.classList.remove("hidden");
            } else {
                buildingSelect.classList.add("hidden");
            }
        });
    });
</script>
