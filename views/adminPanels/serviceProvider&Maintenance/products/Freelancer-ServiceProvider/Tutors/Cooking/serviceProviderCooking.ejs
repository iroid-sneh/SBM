<div class="bg-[#f7f6f5] rounded-[100px] flex-1 justify-center items-center">
    <!-- Breadcrumb -->
    <div class="flex p-10 ml-10 items-center space-x-4">
        <h3 class="text-gray-600 text-lg">Products</h3>
        <div class="w-px h-7 bg-gray-300"></div>
        <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M2 4.33333C2 2.58319 2.01874 2 4.33333 2C6.64793 2 6.66667 2.58319 6.66667 4.33333C6.66667 6.08348 6.67405 6.66667 4.33333 6.66667C1.99262 6.66667 2 6.08348 2 4.33333Z"
                stroke="#163F75"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
            />
            <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M9.33203 4.33333C9.33203 2.58319 9.35077 2 11.6654 2C13.98 2 13.9987 2.58319 13.9987 4.33333C13.9987 6.08348 14.0061 6.66667 11.6654 6.66667C9.32465 6.66667 9.33203 6.08348 9.33203 4.33333Z"
                stroke="#163F75"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
            />
            <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M2 11.6654C2 9.91522 2.01874 9.33203 4.33333 9.33203C6.64793 9.33203 6.66667 9.91522 6.66667 11.6654C6.66667 13.4155 6.67405 13.9987 4.33333 13.9987C1.99262 13.9987 2 13.4155 2 11.6654Z"
                stroke="#163F75"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
            />
            <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M9.33203 11.6654C9.33203 9.91522 9.35077 9.33203 11.6654 9.33203C13.98 9.33203 13.9987 9.91522 13.9987 11.6654C13.9987 13.4155 14.0061 13.9987 11.6654 13.9987C9.32465 13.9987 9.33203 13.4155 9.33203 11.6654Z"
                stroke="#163F75"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
            />
        </svg>
    </div>

    <!-- Card -->
    <div class="w-[1400px] h-[640px] bg-white rounded-2xl p-4 mx-auto">
        <!-- Main Container -->

        <!-- Top Offer Box -->
        <div
            class="bg-blue-50 px-6 py-4 rounded-xl flex items-center justify-between max-w-[1367px] w-full mx-auto"
        >
            <div class="flex items-center space-x-8">
                <p class="text-gray-700 font-medium">
                    Experience
                    <span id="displayExperience" class="text-black font-semibold">0 Years</span>
                </p>
                <div class="w-px h-7 bg-gray-300"></div>
                <p class="text-gray-700 font-medium">
                    Cuisine
                    <span id="displaySelectedCuisines" class="text-black font-semibold">N/A</span>
                </p>
                <div class="w-px h-7 bg-gray-300"></div>
                <p class="text-gray-700 font-medium">
                    Per Hour Price
                    <span id="displayPrice" class="text-black font-semibold">BHD 0.000</span>
                </p>
            </div>
            <!-- Pencil Button -->
            <button data-modal-target="yourOfferModal" data-modal-toggle="yourOfferModal">
                <svg
                    width="32"
                    height="32"
                    viewBox="0 0 32 32"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <circle cx="16" cy="16" r="16" fill="#2C99AD" />
                    <path
                        d="M17.457 23.0346H23.5009"
                        stroke="white"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M16.65 9.16233C17.2964 8.38982 18.4583 8.27655 19.2469 8.90978C19.2905 8.94413 20.6912 10.0323 20.6912 10.0323C21.5575 10.556 21.8266 11.6693 21.2912 12.5188C21.2627 12.5643 13.3433 22.4704 13.3433 22.4704C13.0798 22.7991 12.6799 22.9931 12.2524 22.9978L9.21961 23.0358L8.53628 20.1436C8.44055 19.7369 8.53628 19.3098 8.79975 18.9811L16.65 9.16233Z"
                        stroke="white"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                    <path
                        d="M15.1836 11L19.7271 14.4893"
                        stroke="white"
                        stroke-width="1.5"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                    />
                </svg>
            </button>
        </div>

        <!-- Middle Section -->
        <% if (!items) { %>
        <div class="flex flex-col items-center justify-center mt-40 px-4">
            <h2 class="text-2xl font-semibold text-gray-800">What Do You Serve?</h2>
            <p class="text-sm text-gray-400 mt-2">You have not added any service yet.</p>
            <button
                onclick="document.getElementById('noteModal').classList.remove('hidden')"
                ;
                class="mt-6 bg-[#163F75] text-white text-sm font-medium px-6 py-3 rounded-md hover:bg-[#163F75]/90 transition"
            >
                + Add Service
            </button>
        </div>
        <% } else { %>

        <div class="w-full bg-[#F7F6F5] px-6 py-4 rounded-2xl mt-4">
            <div class="flex items-center justify-between">
                <div class="flex justify-start mb-4">
                    <h2 class="text-xl font-semibold text-gray-800">Available Services</h2>
                </div>
                <!-- Right side: Actions -->
                <div class="flex items-center gap-3">
                    <button
                        class="text-sm font-semibold text-[#163F75] hover:underline transition"
                        onclick="clearFiltration()"
                    >
                        Clear Filtration
                    </button>

                    <button
                        class="text-sm font-semibold text-[#163F75] border border-[#163F75] px-4 py-2.5 rounded-xl hover:bg-[#163F75]/10 transition"
                        onclick="viewSelectedItems()"
                    >
                        View Selected
                    </button>

                    <button
                        class="text-white text-sm font-semibold bg-red-600 hover:bg-red-700 px-4 py-2.5 rounded-xl transition"
                        onclick="deleteSelectedItems()"
                    >
                        Delete
                    </button>

                    <button
                        onclick="window.location.href='<%= process.env.APP_URL_ADMIN %>/spadmin/products/addService'"
                        class="bg-[#163F75] text-white text-sm font-semibold px-4 py-2.5 rounded-xl hover:bg-[#163F75]/90 transition"
                    >
                        + Add Service
                    </button>
                </div>
            </div>

            <div class="overflow-x-auto rounded-2xl">
                <table class="min-w-full border-separate border-spacing-y-2 text-sm">
                    <thead class="bg-[#54B7C5] text-white rounded-2xl">
                        <tr>
                            <td
                                class="px-6 py-4 whitespace-nowrap first:rounded-l-2xl last:rounded-r-2xl text-sm font-medium text-gray-900"
                            >
                                <input
                                    id="checkbox-all"
                                    aria-describedby="checkbox-1"
                                    type="checkbox"
                                    class="w-4 h-4 border-gray-300 rounded bg-gray-200 appearance-none checked:bg-[#54B7C5] focus:ring-[#54B7C5]"
                                />
                            </td>
                            <th class="text-left py-3 px-5">Sr No.</th>
                            <th class="text-left py-3 px-5">Cuisine</th>
                            <th class="text-left py-3 px-5">Dishes</th>
                            <th class="text-left py-3 px-5">PDF</th>
                            <th class="text-left py-3 px-5">Tax Amount</th>
                            <th class="text-left py-3 px-5 last:rounded-r-2xl">Actions</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200 text-sm">
                        <tr class="hover:bg-gray-50 rounded-2xl">
                            <td
                                class="px-6 py-4 whitespace-nowrap first:rounded-l-2xl last:rounded-r-2xl text-sm font-medium text-gray-900"
                            >
                                <input
                                    id="checkbox-all"
                                    aria-describedby="checkbox-1"
                                    type="checkbox"
                                    class="w-4 h-4 border-gray-300 rounded bg-gray-200 appearance-none checked:bg-[#54B7C5] focus:ring-[#54B7C5]"
                                />
                            </td>
                            <td class="py-3 px-5"><%= items.SrNo %></td>
                            <td class="py-3 px-5 font-semibold text-[#163F75]">Indian</td>
                            <td class="py-3 px-5 font-semibold text-[#163F75]">Dosa</td>
                            <td class="py-3 px-5">
                                <a
                                    href="http://192.168.1.82:3003/spadmin/products"
                                    target="_blank"
                                    class="text-[#54B7C5] font-semibold hover:underline transition"
                                >
                                    View
                                </a>
                            </td>
                            <td class="py-3 px-5"><%= items.TaxAmount %></td>
                            <td class="py-3 px-5 flex items-center gap-2 last:rounded-r-2xl">
                                <!-- Edit -->
                                <button
                                    data-modal-target=""
                                    data-modal-toggle=""
                                    class="p-1.5 rounded-full hover:bg-blue-100 transition"
                                >
                                    <svg
                                        width="30"
                                        height="30"
                                        viewBox="0 0 30 30"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <rect
                                            x="0.5"
                                            y="0.5"
                                            width="29"
                                            height="29"
                                            rx="8.5"
                                            stroke="#F2F2F2"
                                        />
                                        <path
                                            d="M22.2051 15.0073C21.9928 15.0073 21.7893 15.0916 21.6392 15.2417C21.4891 15.3918 21.4048 15.5953 21.4048 15.8076V20.6092C21.4048 20.8214 21.3205 21.025 21.1704 21.1751C21.0204 21.3252 20.8168 21.4095 20.6046 21.4095H9.4008C9.18856 21.4095 8.98501 21.3252 8.83493 21.1751C8.68485 21.025 8.60054 20.8214 8.60054 20.6092V9.40544C8.60054 9.1932 8.68485 8.98965 8.83493 8.83957C8.98501 8.68949 9.18856 8.60518 9.4008 8.60518H14.2024C14.4147 8.60518 14.6182 8.52086 14.7683 8.37078C14.9184 8.2207 15.0027 8.01715 15.0027 7.80491C15.0027 7.59266 14.9184 7.38911 14.7683 7.23903C14.6182 7.08895 14.4147 7.00464 14.2024 7.00464H9.4008C8.76407 7.00464 8.15342 7.25758 7.70318 7.70782C7.25294 8.15806 7 8.76871 7 9.40544V20.6092C7 21.2459 7.25294 21.8566 7.70318 22.3068C8.15342 22.7571 8.76407 23.01 9.4008 23.01H20.6046C21.2413 23.01 21.8519 22.7571 22.3022 22.3068C22.7524 21.8566 23.0054 21.2459 23.0054 20.6092V15.8076C23.0054 15.5953 22.921 15.3918 22.771 15.2417C22.6209 15.0916 22.4173 15.0073 22.2051 15.0073ZM10.2011 15.6155V19.0087C10.2011 19.2209 10.2854 19.4245 10.4355 19.5745C10.5855 19.7246 10.7891 19.8089 11.0013 19.8089H14.3945C14.4998 19.8095 14.6042 19.7894 14.7017 19.7495C14.7992 19.7097 14.8879 19.651 14.9627 19.5768L20.5005 14.031L22.7733 11.8062C22.8483 11.7319 22.9078 11.6433 22.9485 11.5458C22.9891 11.4483 23.01 11.3437 23.01 11.2381C23.01 11.1324 22.9891 11.0278 22.9485 10.9303C22.9078 10.8328 22.8483 10.7443 22.7733 10.6699L19.3801 7.23672C19.3057 7.16171 19.2172 7.10217 19.1197 7.06155C19.0222 7.02092 18.9176 7 18.812 7C18.7063 7 18.6017 7.02092 18.5042 7.06155C18.4067 7.10217 18.3182 7.16171 18.2438 7.23672L15.987 9.50148L10.4331 15.0473C10.359 15.1221 10.3003 15.2108 10.2605 15.3083C10.2206 15.4058 10.2005 15.5102 10.2011 15.6155ZM18.812 8.93329L21.0767 11.198L19.9403 12.3344L17.6756 10.0697L18.812 8.93329ZM11.8016 15.9436L16.5472 11.198L18.812 13.4628L14.0664 18.2084H11.8016V15.9436Z"
                                            fill="#54B7C5"
                                        />
                                    </svg>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <% } %>

        <!-- Your Offer Modal -->
        <div
            id="yourOfferModal"
            class="fixed top-0 left-0 right-0 z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-modal md:h-full hidden"
            aria-hidden="true"
        >
            <div
                class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-5 z-50"
            >
                <div class="bg-[#F6F9FC] rounded-2xl shadow-xl w-full max-w-2xl">
                    <!-- Modal Header -->
                    <div
                        class="flex justify-between items-center px-6 pt-6 pb-4 border-b border-gray-200"
                    >
                        <h3 class="text-xl font-semibold text-gray-800 text-center w-full">
                            Your Offer
                        </h3>
                        <button
                            class="text-red-500 hover:text-red-700 text-sm font-medium absolute right-6 top-6"
                            data-modal-hide="yourOfferModal"
                        >
                            Close âœ•
                        </button>
                    </div>

                    <!-- Modal Content -->
                    <div class="px-6 pb-6 mt-4 max-w-xl mx-auto flex flex-col space-y-5">
                        <!-- Experience -->
                        <div class="w-full">
                            <label class="block text-sm text-gray-700 mb-2">Experience</label>
                            <input
                                id="inputExperience"
                                type="text"
                                placeholder="Experience"
                                class="w-full pl-4 pr-4 py-3 rounded-xl border border-gray-200 shadow-md placeholder-gray-500 text-sm text-gray-700 bg-white focus:outline-none"
                            />
                        </div>

                        <!-- Cuisine -->
                        <div class="w-full">
                            <label class="block text-sm text-gray-700 font-medium mb-2">
                                Select Cuisine
                            </label>
                            <div class="relative w-full">
                                <select
                                    id="category"
                                    class="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"
                                >
                                    <option value="" hidden>Select Category</option>
                                    <option value="Indian">Indian</option>
                                    <option value="Italian">Italian</option>
                                    <option value="Chinese">Chinese</option>
                                    <option value="Mexican">Mexican</option>
                                </select>
                                <div
                                    class="bg-white rounded-xl shadow-md px-4 py-3 flex justify-between items-center relative z-0 text-sm text-gray-500"
                                >
                                    Select Cuisine
                                </div>
                            </div>

                            <!-- Chips for selected cuisines -->
                            <div id="selectedChips" class="flex flex-wrap gap-2 mt-3"></div>
                        </div>

                        <!-- Per Hour Price -->
                        <div class="w-full">
                            <label class="block text-sm text-gray-700 mb-2">Per Hour Price</label>
                            <div class="relative">
                                <div
                                    class="absolute inset-y-0 left-3 flex items-center pointer-events-none"
                                >
                                    <!-- Icon -->
                                    <svg width="20" height="20" fill="none" viewBox="0 0 24 24">
                                        <path
                                            d="M4.79 7.06c0-1.25 1.02-2.26 2.27-2.27h1.03c.6 0 1.17-.24 1.6-.66l.72-.72a1.88 1.88 0 0 1 2.66 0l.71.72c.43.42 1 .66 1.6.66h1.03c1.25 0 2.27 1.02 2.27 2.27v1.03c0 .6.24 1.17.66 1.6l.72.72a1.88 1.88 0 0 1 0 2.66l-.72.72a2.27 2.27 0 0 0-.66 1.6v1.03c0 1.25-1.02 2.27-2.27 2.27h-1.03c-.6 0-1.17.24-1.6.66l-.72.72a1.88 1.88 0 0 1-2.66 0l-.72-.72a2.27 2.27 0 0 0-1.6-.66H7.06c-1.25 0-2.27-1.02-2.27-2.27v-1.03c0-.6-.24-1.17-.66-1.6l-.72-.72a1.88 1.88 0 0 1 0-2.66l.72-.72c.42-.43.66-1 .66-1.6V7.06Z"
                                            stroke="black"
                                            stroke-width="1.5"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                        />
                                        <path
                                            d="M9.43 14.57 14.57 9.43M14.5 14.5h.01M9.5 9.5h.01"
                                            stroke="black"
                                            stroke-width="1.5"
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                        />
                                    </svg>
                                </div>
                                <input
                                    id="inputPrice"
                                    type="text"
                                    placeholder="Per Hour Price (Ex - BHD 5.00)"
                                    class="w-full pl-12 pr-4 py-3 rounded-xl border border-gray-200 shadow-md placeholder-gray-500 text-sm text-gray-700 bg-white focus:outline-none"
                                />
                            </div>
                        </div>

                        <!-- Save Button -->
                        <div class="pt-2">
                            <button
                                id="saveOfferBtn"
                                type="button"
                                class="bg-[#163F75] hover:bg-[#163F75]/80 w-full text-white py-3 rounded-lg font-medium text-base shadow transition"
                                data-modal-hide="yourOfferModal"
                            >
                                Save
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- send file for review to admin modal  -->
        <div
            class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden"
            id="noteModal"
        >
            <!-- Modal Content -->
            <div
                class="bg-[#F6F9FC] rounded-2xl shadow-lg w-[100%] max-w-[700px] p-6 text-center relative"
            >
                <!-- Close Icon -->
                <button
                    class="absolute top-4 right-4 text-red-400 hover:text-red-600 text-xl font-bold"
                    onclick="document.getElementById('noteModal').classList.add('hidden')"
                    aria-label="Close"
                >
                    Close &times;
                </button>

                <!-- Title -->
                <h2 class="text-xl font-semibold mb-4">Note</h2>

                <!-- Message -->
                <p class="text-gray-600 mb-6">
                    To display the ingredient PDF in the user app, please send the ingredient PDF
                    for the dishes you are making to the admin email at
                    <strong>superadmin@gmail.com.</strong>
                    Once we review and provide approval via email, you can proceed to upload the PDF
                    here.
                </p>

                <a href="" target="_blank" class="text-[#54B7C5] m-9 hover:underline">
                    View Demo PDF
                </a>

                <!-- Action Buttons -->
                <div class="flex flex-col justify-center items-center mt-5 gap-4">
                    <button
                        onclick="document.getElementById('noteModal').classList.add('hidden')"
                        class="w-[60%] bg-[#163F75] text-white px-5 py-2 rounded-lg font-medium hover:bg-[#102f59]"
                    >
                        Got it
                    </button>

                    <button
                        onclick="window.location.href='<%= process.env.APP_URL_ADMIN %>/spadmin/products/addService'"
                        class="w-[60%] text-[#163F75] border border-[#163F75] px-5 py-2 rounded-lg font-medium hover:bg-[#163F75]/10"
                    >
                        Already Approved
                    </button>
                </div>
            </div>
        </div>

        <script>
            const cuisineSelect = document.getElementById("category");
            const chipsContainer = document.getElementById("selectedChips");

            const selectedCuisines = new Set();

            cuisineSelect.addEventListener("change", () => {
                const selected = cuisineSelect.value;
                if (!selected || selectedCuisines.has(selected)) return;

                selectedCuisines.add(selected);

                const chip = document.createElement("div");
                chip.className =
                    "flex items-center px-3 py-1 rounded-full bg-[#54B7C5] text-white text-sm font-medium";
                chip.innerHTML = `
                ${selected}
                <button class="ml-2 text-white hover:text-red-200 font-bold text-base leading-none">&times;</button>
            `;

                chip.querySelector("button").addEventListener("click", () => {
                    chipsContainer.removeChild(chip);
                    selectedCuisines.delete(selected);
                });

                chipsContainer.appendChild(chip);

                // Reset select
                cuisineSelect.selectedIndex = 0;
            });

            document.getElementById("saveOfferBtn")?.addEventListener("click", function () {
                const experienceInput = document.getElementById("inputExperience").value.trim();
                const value = experienceInput ? `${experienceInput} Years` : "0 Years";
                document.getElementById("displayExperience").textContent = value;

                const cuisinesDisplay = selectedCuisines.values();
                const Cuisines = Array.from(cuisinesDisplay).join(", ");
                document.getElementById("displaySelectedCuisines").textContent = Cuisines;

                const perHourPrice = document.getElementById("inputPrice").value.trim();
                const price = perHourPrice ? `BHD ${perHourPrice}.000` : "BHD 0.000";
                document.getElementById("displayPrice").textContent = price;
            });
        </script>
    </div>
</div>
