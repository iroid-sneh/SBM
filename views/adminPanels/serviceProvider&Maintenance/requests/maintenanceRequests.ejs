<style>
    .modal {
        display: none;
        position: fixed;
        z-index: 9999;
        left: 0;
        top: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.8);
        justify-content: center;
        align-items: center;
    }

    .modal-content-box {
        max-width: 90%;
        max-height: 80%;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .modal-content-box img,
    .modal-content-box video {
        max-width: 70%;
        max-height: 70%;
        border-radius: 10px;
    }

    .close {
        position: absolute;
        top: 20px;
        right: 30px;
        font-size: 40px;
        color: white;
        cursor: pointer;
    }
</style>

<!-- DataTables CSS -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css" />

<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>

<div class="bg-[#f7f6f5] rounded-[100px] flex-1 justify-center items-center">
    <!-- Breadcrumb -->
    <div class="flex p-10 ml-10 items-center space-x-4">
        <h3 class="text-gray-600 text-lg">Requests</h3>
        <div class="w-px h-7 bg-gray-300"></div>
        <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <path
                d="M8.25 5.92188H11.75"
                stroke="#163F75"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
            />
            <path
                d="M4.25 5.92188L4.75 6.42188L6.25 4.92188"
                stroke="#163F75"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
            />
            <path
                d="M8.25 10.5859H11.75"
                stroke="#163F75"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
            />
            <path
                d="M4.25 10.5859L4.75 11.0859L6.25 9.58594"
                stroke="#163F75"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
            />
            <path
                d="M6.0026 14.6654H10.0026C13.3359 14.6654 14.6693 13.332 14.6693 9.9987V5.9987C14.6693 2.66536 13.3359 1.33203 10.0026 1.33203H6.0026C2.66927 1.33203 1.33594 2.66536 1.33594 5.9987V9.9987C1.33594 13.332 2.66927 14.6654 6.0026 14.6654Z"
                stroke="#163F75"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
            />
        </svg>
    </div>

    <!-- Card -->
    <div class="w-[1400px] bg-white rounded-2xl p-4 mx-auto">
        <!-- Filter -->
        <div class="flex justify-between gap-4 items-start pr-4 mt-4 items-center align-center">
            <!-- Category Slide Switcher - takes first column -->
            <div id="transactionStatusSwitcher" class="flex space-x-6 border-gray-200">
                <button
                    class="status-btn text-m font-semibold text-[black] border-b-2 border-[#54B7C5] pb-2"
                    onclick="switchTransactionTab('all')"
                >
                    All Actions
                </button>
                <button
                    class="status-btn text-m font-semibold text-gray-500 hover:text-gray-700 pb-2"
                    onclick="switchTransactionTab('paid')"
                >
                    Execution
                </button>
                <button
                    class="status-btn text-m font-semibold text-gray-500 hover:text-gray-700 pb-2"
                    onclick="switchTransactionTab('unpaid')"
                >
                    Quotation
                </button>
                <button
                    class="status-btn text-m font-semibold text-gray-500 hover:text-gray-700 pb-2"
                    onclick="switchTransactionTab('unpaid')"
                >
                    Completed
                </button>
                <button
                    class="status-btn text-m font-semibold text-gray-500 hover:text-gray-700 pb-2"
                    onclick="switchTransactionTab('declined')"
                >
                    Assigned
                </button>
                <button
                    class="status-btn text-m font-semibold text-gray-500 hover:text-gray-700 pb-2"
                    onclick="switchTransactionTab('declined')"
                >
                    On Hold
                </button>
                <button
                    class="status-btn text-m font-semibold text-gray-500 hover:text-gray-700 pb-2"
                    onclick="switchTransactionTab('declined')"
                >
                    Resident Rejected
                </button>
            </div>
            <div class="flex justify-end gap-4 items-end pr-4 items-center">
                <button
                    class="flex items-center gap-1 text-sm text-[#54B7C5] hover:underline font-medium mt-6"
                >
                    <svg
                        width="20"
                        height="20"
                        viewBox="0 0 20 20"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M12.4068 4.23333C11.6818 4.01667 10.8818 3.875 9.99844 3.875C6.00677 3.875 2.77344 7.10833 2.77344 11.1C2.77344 15.1 6.00677 18.3333 9.99844 18.3333C13.9901 18.3333 17.2234 15.1 17.2234 11.1083C17.2234 9.625 16.7734 8.24167 16.0068 7.09167"
                            stroke="#54B7C5"
                            stroke-width="1.5"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M13.4396 4.43464L11.0312 1.66797"
                            stroke="#54B7C5"
                            stroke-width="1.5"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M13.4411 4.43359L10.6328 6.48359"
                            stroke="#54B7C5"
                            stroke-width="1.5"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                    </svg>
                    Reset
                </button>

                <div class="relative">
                    <label class="block text-sm font-medium text-gray-700 mb-1">From</label>
                    <div class="relative">
                        <div
                            class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"
                        >
                            <svg
                                class="w-4 h-4 text-gray-500"
                                aria-hidden="true"
                                xmlns="http://www.w3.org/2000/svg"
                                fill="currentColor"
                                viewBox="0 0 20 20"
                            >
                                <path
                                    d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"
                                />
                            </svg>
                        </div>
                        <input
                            datepicker
                            datepicker-orientation="bottom"
                            datepicker-format="dd-mm-yyyy"
                            type="text"
                            class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5"
                            placeholder="Select date"
                        />
                    </div>
                </div>

                <div class="flex items-end">
                    <div class="relative">
                        <label class="block text-sm font-medium text-gray-700 mb-1">To</label>
                        <div class="relative">
                            <div
                                class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"
                            >
                                <svg
                                    class="w-4 h-4 text-gray-500"
                                    aria-hidden="true"
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="currentColor"
                                    viewBox="0 0 20 20"
                                >
                                    <path
                                        d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"
                                    />
                                </svg>
                            </div>
                            <input
                                datepicker
                                datepicker-orientation="bottom"
                                datepicker-format="dd-mm-yyyy"
                                type="text"
                                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full ps-10 p-2.5"
                                placeholder="Select date"
                            />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Table -->
        <div class="mt-6">
            <table class="min-w-full border-separate border-spacing-y-2 text-sm">
                <thead class="bg-[#f4f4f4] text-gray-600 text-sm">
                    <tr>
                        <th class="text-left py-3 px-4 first:rounded-l-2xl last:rounded-r-2xl">
                            Call Time
                        </th>
                        <th class="text-left py-3 px-4">Name</th>
                        <th class="text-left py-3 px-4">Address</th>
                        <th class="text-left py-3 px-4">Ticket No.</th>
                        <th class="text-left py-3 px-4">Maintenance</th>
                        <th class="text-left py-3 px-4">Priority</th>
                        <th class="text-left py-3 px-4">Service</th>
                        <th class="text-left py-3 px-4 last:rounded-r-2xl">Action</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-100 text-sm">
                    <!-- Example Row 1 -->
                    <tr class="border border-gray-800 hover:bg-gray-300">
                        <td class="py-3 px-4 first:rounded-l-2xl last:rounded-r-2xl">
                            16:05:10 01.01.24
                        </td>
                        <td class="py-3 px-4">Sandra Pugh</td>
                        <td class="py-3 px-4">
                            Flat 312, Marassi Residence Bld, 2122 Street, Diyar
                        </td>
                        <td class="py-3 px-4">203456</td>
                        <td class="py-3 px-4">Electrical</td>
                        <td class="py-3 px-4 text-green-500 font-semibold">Normal</td>
                        <td class="py-3 px-4 text-[#163F75]">Lighting, Socket & Rewiring, +2</td>
                        <td class="py-3 px-4 font-medium last:rounded-r-2xl">
                            <button
                                data-modal-target="scopeOfWorkModal"
                                data-modal-toggle="scopeOfWorkModal"
                                class="bg-[#163F75] text-white text-sm font-semibold px-4 py-2.5 rounded-xl hover:bg-[#163F75]/90 transition"
                            >
                                Quotation
                            </button>
                        </td>
                    </tr>
                    <!-- Example Row 2 -->
                    <tr class="border border-gray-800 hover:bg-gray-300">
                        <td class="py-3 px-4 first:rounded-l-2xl last:rounded-r-2xl">
                            15:10:02 01.01.24
                        </td>
                        <td class="py-3 px-4">Ahmed Rami</td>
                        <td class="py-3 px-4">Villa 20, AlNaseem, Rose Street, Diyar</td>
                        <td class="py-3 px-4">203456</td>
                        <td class="py-3 px-4">Electrical</td>
                        <td class="py-3 px-4 text-green-500 font-semibold">Normal</td>
                        <td class="py-3 px-4 text-[#163F75]">Appliance Repair, Air Conditioning</td>
                        <td class="py-3 px-4 font-medium last:rounded-r-2xl">
                            <button
                                class="bg-[#F8F8F8] text-orange-500 text-sm font-semibold px-4 py-2.5 rounded-xl hover:bg-[#F8F8F8]/90 transition"
                            >
                                Execution
                            </button>
                        </td>
                    </tr>
                    <!-- Example Row 3 -->
                    <tr class="border border-gray-800 hover:bg-gray-300">
                        <td class="py-3 px-4 first:rounded-l-2xl last:rounded-r-2xl">
                            13:49:06 01.01.24
                        </td>
                        <td class="py-3 px-4">Hussam Arab</td>
                        <td class="py-3 px-4">Villa 289, AlNaseem, Rose Street, Diyar</td>
                        <td class="py-3 px-4">203456</td>
                        <td class="py-3 px-4">Electrical</td>
                        <td class="py-3 px-4 text-green-500 font-semibold">Normal</td>
                        <td class="py-3 px-4 text-[#163F75]">Exhaust Fan, Fuse Board, +1</td>
                        <td class="py-3 px-4 font-medium last:rounded-r-2xl">
                            <button
                                class="bg-[#163F75] text-white text-sm font-semibold px-4 py-2.5 rounded-xl hover:bg-[#163F75]/90 transition"
                            >
                                Assigned
                            </button>
                        </td>
                    </tr>
                    <!-- Example Row 4 -->
                    <tr class="border border-gray-800 hover:bg-gray-300">
                        <td class="py-3 px-4 first:rounded-l-2xl last:rounded-r-2xl">
                            12:25:11 01.01.24
                        </td>
                        <td class="py-3 px-4">Simon Rubby</td>
                        <td class="py-3 px-4">Flat 401, Marassi Terraces, 82 Street, Diyar</td>
                        <td class="py-3 px-4">-</td>
                        <td class="py-3 px-4">Electrical</td>
                        <td class="py-3 px-4 text-red-600 font-semibold">High</td>
                        <td class="py-3 px-4 text-[#163F75]">
                            Smoke Detector, Socket & Rewiring, +2
                        </td>
                        <td class="py-3 px-4 font-medium last:rounded-r-2xl">
                            <button
                                class="bg-[#F8F8F8] text-[#69B816] text-sm font-semibold px-4 py-2.5 rounded-xl hover:bg-[#F8F8F8]/90 transition"
                            >
                                Completed
                            </button>
                        </td>
                    </tr>
                    <!-- Example Row 5 -->
                    <tr class="border border-gray-800 hover:bg-gray-300">
                        <td class="py-3 px-4 first:rounded-l-2xl last:rounded-r-2xl">
                            12:25:11 01.01.24
                        </td>
                        <td class="py-3 px-4">Simon Rubby</td>
                        <td class="py-3 px-4">Flat 401, Marassi Terraces, 82 Street, Diyar</td>
                        <td class="py-3 px-4">-</td>
                        <td class="py-3 px-4">Electrical</td>
                        <td class="py-3 px-4 text-red-600 font-semibold">High</td>
                        <td class="py-3 px-4 text-[#163F75]">
                            Smoke Detector, Socket & Rewiring, +2
                        </td>
                        <td class="py-3 px-4 font-medium last:rounded-r-2xl">
                            <button
                                class="bg-[#F8F8F8] text-red-500 text-sm font-semibold px-4 py-2.5 rounded-xl hover:bg-[#F8F8F8]/90 transition"
                            >
                                On Hold
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <!-- Pagination -->
            <div class="flex justify-between items-center mt-4 px-4 text-sm text-gray-500">
                <span>Showing 1 of 28</span>
                <div class="flex gap-2">
                    <button class="text-gray-500">&lt;</button>
                    <button class="font-bold text-black">1</button>
                    <button>2</button>
                    <button>3</button>
                    <button>4</button>
                    <button>5</button>
                    <button class="text-gray-500">&gt;</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- SOW Modal -->
<div
    id="scopeOfWorkModal"
    tabindex="-1"
    aria-hidden="true"
    class="fixed inset-0 z-50 hidden w-full h-full overflow-y-auto bg-black bg-opacity-50 flex justify-center items-center"
>
    <div class="relative w-full max-w-6xl p-4">
        <div class="bg-[#F6F9FC] rounded-xl shadow-xl p-6">
            <!-- Header: Ticket No, Title, Close -->
            <div class="flex items-center justify-between mb-4">
                <span class="bg-[#163F75] text-white text-s font-medium px-3 py-1 rounded-md">
                    Ticket No. - 50202
                </span>

                <h2 class="text-xl font-semibold text-center flex-grow text-gray-800 -ml-16">
                    Scope of Work
                </h2>

                <button
                    data-modal-hide="scopeOfWorkModal"
                    class="text-red-600 hover:text-red-800 text-xl font-bold"
                >
                    Close &times;
                </button>
            </div>

            <!-- Horizontal Divider -->
            <hr class="border-t border-gray-300 mb-6" />

            <!-- Vertical Split Layout -->
            <div class="relative flex flex-col md:flex-row gap-6">
                <!-- Vertical Divider (centered) -->
                <div
                    class="absolute left-1/2 top-0 bottom-0 w-px bg-gray-200 transform -translate-x-1/2 hidden md:block"
                ></div>

                <!-- Left Side -->
                <div class="md:w-1/2 mx-auto px-6 space-y-4 text-[15px] text-gray-800">
                    <!-- Address Section -->
                    <div>
                        <p class="text-lg font-semibold text-gray-800">
                            Flat 312, Marassi Residence
                        </p>
                        <p class="text-gray-500">Bld, 2122 Street, Diyar</p>
                    </div>
                    <hr />

                    <!-- Maintenance and Priority -->
                    <div class="flex justify-between text-[15px]">
                        <div>
                            <p class="text-gray-500">Maintenance:</p>
                            <p class="font-semibold text-gray-800">Electrical</p>
                        </div>
                        <div>
                            <p class="text-gray-500">Priority Level:</p>
                            <p class="font-semibold text-gray-800">Normal</p>
                        </div>
                    </div>
                    <hr />

                    <!-- Service Section -->
                    <div>
                        <p class="text-gray-500">Service:</p>
                        <p class="font-semibold text-gray-800">
                            Lighting, Socket & Rewiring, Appliance Repair, Exhaust Fan
                        </p>
                    </div>
                    <hr />

                    <!-- Visit Date and Time -->
                    <div>
                        <p class="text-gray-500">Labour's Visit Date/Time:</p>
                        <p class="font-semibold text-gray-800">25-01-2024 &nbsp; 10:00 AM</p>
                    </div>
                    <hr />

                    <!-- Media Section -->
                    <div>
                        <p class="text-gray-500 mb-2">Photo/Video:</p>
                        <div class="flex gap-4">
                            <!-- Image Thumbnail -->
                            <img
                                src="http://192.168.1.82:3003/images/icons/quotationimage.jpg"
                                alt="Photo"
                                class="w-[230px] h-[140px] rounded-md object-cover border cursor-pointer"
                                onclick="openMediaModal(this.src, 'image')"
                            />

                            <!-- Video Thumbnail -->
                            <video
                                class="w-[230px] max-h-[140px] rounded-md border object-cover"
                                onclick="openMediaModal('http://192.168.1.82:3003/images/icons/AdvancedTeam.mp4', 'video')"
                                controls
                            >
                                <source
                                    src="http://192.168.1.82:3003/images/icons/AdvancedTeam.mp4"
                                    type="video/mp4"
                                />
                                Your browser does not support the video tag.
                            </video>
                        </div>
                    </div>
                    <div class="flex justify-center items-center">
                        <% if (request.status === 'new') { %>
                        <button
                            data-modal-target="quotationUploadModal"
                            data-modal-toggle="quotationUploadModal"
                            class="bg-[#163F75] text-white px-10 py-2 rounded-md hover:bg-[#163F75]/90 mt-10"
                        >
                            Quotation
                        </button>
                        <% } else if (request.status === 'rejected') { %>
                        <div class="flex flex-col text-[15px] mt-4">
                            <span class="text-gray-500">Reason for Rejection:</span>
                            <p class="mt-2 font-semibold text-gray-800">
                                <%= request.rejectionReason %>
                            </p>
                        </div>
                        <% } %>
                    </div>
                </div>

                <!-- Right Side -->
                <div class="md:w-1/2 flex flex-col gap-4">
                    <!-- Status Label and Value -->
                    <div class="flex items-center gap-2">
                        <span class="text-gray-700 font-medium">Status:</span>
                        <% if (request.status === 'completed') { %>
                        <span class="bg-white text-[#69B816] text-m px-7 py-2 rounded-full">
                            Completed
                        </span>
                        <% } else if (request.status === 'rejected') { %>
                        <span class="bg-white text-gray-500 text-m px-7 py-2 rounded-full">
                            Resident Rejected
                        </span>
                        <% } else if (request.status === 'new') { %>
                        <span class="bg-white text-[#163F75] text-m px-7 py-2 rounded-full">
                            New Request
                        </span>
                        <% } %>
                    </div>

                    <!-- SOW Image -->
                    <img
                        onclick="openMediaModal(this.src, 'image')"
                        src="http://192.168.1.82:3003/images/icons/sowpng.png"
                        alt="Scope of Work"
                        class="rounded-lg border shadow w-full object-contain cursor-pointer"
                    />
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Upload Invoice Quotation Modal -->
<div
    id="quotationUploadModal"
    tabindex="-1"
    aria-hidden="true"
    class="fixed inset-0 z-50 hidden w-full h-full overflow-y-auto bg-black bg-opacity-50 flex justify-center items-center"
>
    <div class="relative w-full max-w-3xl p-4">
        <div class="bg-[#F6F9FC] rounded-xl shadow-xl p-6">
            <!-- Header -->
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-xl font-semibold text-center w-full text-gray-800">Quotation</h2>
                <button
                    data-modal-hide="quotationUploadModal"
                    class="absolute right-6 mr-3 text-red-600 hover:text-red-800 text-xl font-bold"
                >
                    Close &times;
                </button>
            </div>

            <hr class="border-t border-gray-300 mb-6" />

            <!-- Centered Form Section -->
            <div class="flex flex-col items-center justify-center gap-6">
                <!-- Upload Box -->
                <label
                    for="emergencyUpload"
                    class="flex flex-col items-center justify-center cursor-pointer text-gray-500 hover:text-gray-700 border-dashed border-2 border-gray-300 rounded-lg p-8 bg-gray-50 w-80"
                >
                    <svg
                        width="40"
                        height="40"
                        fill="none"
                        viewBox="0 0 20 20"
                        stroke="black"
                        stroke-width="1.5"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M6.15888 7.48807H5.38138C3.68555 7.48807 2.31055 8.86307 2.31055 10.5589V14.6214C2.31055 16.3164 3.68555 17.6914 5.38138 17.6914H14.6564C16.3522 17.6914 17.7272 16.3164 17.7272 14.6214V10.5506C17.7272 8.85974 16.3564 7.48807 14.6655 7.48807H13.8797"
                        />
                        <path
                            d="M10.0182 1.82521V11.8594"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                        <path
                            d="M7.58984 4.26562L10.019 1.82562L12.449 4.26562"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        />
                    </svg>
                    <span class="mt-2 text-sm">Please Upload Here (PDF)</span>
                    <input
                        type="file"
                        id="emergencyUpload"
                        name="emergencyFile"
                        accept="application/pdf/png/jpeg/jpg"
                        class="hidden shadow-xl"
                    />
                </label>

                <!-- Amount Input -->
                <input
                    type="text"
                    placeholder="Payable Amount (Ex - 12.00 BHD)"
                    class="w-80 px-4 py-3 rounded-lg shadow-xl placeholder-gray-500 text-sm text-gray-700 bg-white focus:outline-none"
                />

                <!-- Submit Button -->
                <button
                    class="w-80 bg-[#133C8B] hover:bg-[#0f2f6c] text-white py-3 rounded-lg text-sm font-semibold"
                >
                    Send Quotation
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Media Modal -->
<div id="mediaModal" class="modal" onclick="closeMediaModal()">
    <span class="close" onclick="closeMediaModal()">&times;</span>
    <div id="modalContent" class="modal-content-box">
        <!-- Dynamic image/video will be inserted here -->
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flowbite@1.6.5/dist/flowbite.min.js"></script>
<script src="https://unpkg.com/flowbite/dist/flowbite.turbo.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flowbite-datepicker@1.3.1/dist/datepicker.min.js"></script>
<script>
    function switchTransactionTab(tab) {
        // Remove active styles from all buttons
        document.querySelectorAll(".status-btn").forEach((btn) => {
            btn.classList.remove("text-[black]", "border-b-2", "border-[#54B7C5]");
            btn.classList.add("text-gray-500");
        });

        // Add active styles to clicked button
        const activeBtn = event.currentTarget;
        activeBtn.classList.add("text-[black]", "border-b-2", "border-[#54B7C5]");
        activeBtn.classList.remove("text-gray-500");
    }
    document
        .querySelector('[data-modal-hide="invoice-modal"]')
        .addEventListener("click", function () {
            document.getElementById("invoice-modal").classList.add("hidden");
        });
    document.getElementById("invoice-modal").addEventListener("click", function (e) {
        if (e.target === this) {
            this.classList.add("hidden");
        }
    });

    function openMediaModal(src, type) {
        const modal = document.getElementById("mediaModal");
        const content = document.getElementById("modalContent");

        if (type === "image") {
            content.innerHTML = `<img src="${src}" alt="Full Image">`;
        } else if (type === "video") {
            content.innerHTML = `
                <video controls autoplay>
                    <source src="${src}" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            `;
        }

        modal.style.display = "flex";
    }

    function closeMediaModal() {
        const modal = document.getElementById("mediaModal");
        const content = document.getElementById("modalContent");
        content.innerHTML = ""; // Clear previous content
        modal.style.display = "none";
    }

    // Optional: ESC key to close modal
    document.addEventListener("keydown", function (e) {
        if (e.key === "Escape") {
            closeMediaModal();
        }
    });
</script>
